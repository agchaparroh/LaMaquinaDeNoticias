# Module Pipeline - Dependencias Esenciales
# Proyecto: La Máquina de Noticias
# Actualizado: Junio 2025 - Con Context7 IDs y compatibilidad verificada

# === FRAMEWORKS WEB ===
fastapi==0.116.2                    # Context7: /tiangolo/fastapi
uvicorn[standard]==0.35.1           # Context7: /encode/uvicorn

# === IA/ML ===
groq==0.26.0                        # Context7: /groq/groq-typescript
spacy==3.8.7                        # Context7: /explosion/spacy
sentence-transformers==2.9.0        # Context7: /ukplab/sentence-transformers
langid==1.1.6                       # Context7: /mimino666/langdetect (alternativa)

# === BASE DE DATOS ===
supabase==2.15.2                    # Context7: /supabase/supabase-py
psycopg2-binary==2.9.10             # Context7: /psycopg/psycopg2

# === VALIDACIÓN Y CONFIGURACIÓN ===
pydantic==2.11.5                    # Context7: /pydantic/pydantic
python-dotenv==1.1.0                # Context7: /theskumar/python-dotenv

# === HTTP CLIENTS ===
httpx==0.27.2                       # Context7: /encode/httpx

# === UTILIDADES ===
tenacity==9.1.2                     # Context7: /jd/tenacity
loguru==0.7.3                       # Context7: /delgan/loguru
python-dateutil==2.9.0              # Context7: /dateutil/dateutil

# === PROCESAMIENTO ===
# IMPORTANTE: NumPy 2.x causa conflictos de compatibilidad binaria con spaCy 3.8.7 
# y sentence-transformers 2.9.0. Usar NumPy 1.x hasta que haya soporte oficial.
numpy>=1.21.0,<2.0.0                # Context7: /numpy/numpy - Compatible con spaCy y sentence-transformers

# === TESTING ===
pytest==8.4.0                       # Context7: /pytest-dev/pytest
pytest-mock==3.14.1                 # Context7: /pytest-dev/pytest-mock
pytest-asyncio==0.24.0              # Context7: /pytest-dev/pytest-asyncio

# === INFRAESTRUCTURA ===
nest-asyncio==1.6.0                 # Context7: [NO ENCONTRADO]

# === DEPENDENCIAS ADICIONALES MENCIONADAS EN DOCUMENTACIÓN ===
# Añadidas según documentación técnica (08-configuracion-e-infraestructura.md)
json-repair==0.27.1                 # Para reparar JSON malformado de LLMs
langdetect==1.0.9                   # Detección de idioma (mencionado en doc técnica)
tiktoken==0.8.0                     # Tokenización OpenAI (para segmentación)
sentry-sdk==2.29.0                  # Monitoreo de errores (opcional pero mencionado)

# === NOTAS DE COMPATIBILIDAD ===
# - NumPy: Versión 1.x requerida para compatibilidad con spaCy y sentence-transformers
# - Python: Requiere Python 3.8+ (recomendado 3.9+)
# - spaCy: Modelos requeridos se instalan por separado:
#   python -m spacy download es_core_news_lg
#   python -m spacy download en_core_web_sm
# - Groq: Requiere API key válida (GROQ_API_KEY)
# - Supabase: Requiere configuración de proyecto (SUPABASE_URL, SUPABASE_KEY)